!function(){var t=$({});$.suscribe=function(){t.on.apply(t,arguments)},$.unsuscribe=function(){t.off.apply(t,arguments)},$.publish=function(){t.trigger.apply(t,arguments)};var a=function(t){var a=$(this),n=a.find('input[name="_method"]').val()||"POST";$.ajax({type:n,url:a.prop("action"),data:a.serialize(),success:function(t){var n={form:a,data:t};$.publish("ajax.request.success",n)},error:function(t){var n={form:a,data:t};$.publish("ajax.request.error",n)}}),t.preventDefault()},n=function(t){var a=$(this);a.prop("disabled","disabled"),t.preventDefault(),swal({title:a.data("confirm"),text:a.data("confirm-text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#00a65a",confirmButtonText:"OK",cancelButtonText:"Cancelar",closeOnConfirm:!1,html:!0},function(t){t&&(swal.disableButtons(),a.closest("form").submit())}),a.removeAttr("disabled")},e=function(t){var a=$(this);swal({title:input.data("confirm"),text:input.data("confirm-text"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",closeOnConfirm:!1,html:!0},function(t){t&&(swal.disableButtons(),a.closest("form").submit())})};$("form[data-remote]").on("submit",a),$("input[data-confirm], button[data-confirm]").on("click",n),$('a[class*="submit-button"]').on("click",e)}(),function(){$.suscribe("ajax.request.success",function(t,a){var n=a.form,e=$(n).data("remote-success-message");e&&$(".flash").html(e).fadeIn(500).delay(2500).fadeOut(500);var o=$(n).data("remote-success-exec");o&&window[o](a.data)}),$.suscribe("ajax.request.error",function(t,a){var n=a.data,e=a.form,o=$(e).data("remote-error-exec");o&&window[o](n)}),window.alert=function(){var t=arguments[1]||"info",a=arguments[2]||"";return swal({title:arguments[0],text:a,type:t,confirmButtonText:"OK",html:!0})}}();